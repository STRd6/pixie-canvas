<!DOCTYPE html>

<html>
<head>
  <title>pixie_canvas</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="http://strd6.github.io/cdn/parallel/docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    <ul class="sections">
        
        
        <li id="section-1">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="pixie-canvas">Pixie Canvas</h1>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>PixieCanvas provides a convenient wrapper for working with Context2d.</p>
<p>Methods try to be as flexible as possible as to what arguments they take.</p>
<p>Non-getter methods return <code>this</code> for method chaining.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">TAU = <span class="number">2</span> * Math.PI

module.<span class="function"><span class="title">exports</span></span> = (options={}) -&gt;
    defaults options,
      width: <span class="number">400</span>
      height: <span class="number">400</span>
      init: -&gt;

    canvas = document.createElement <span class="string">"canvas"</span>
    canvas.width = options.width
    canvas.height = options.height

    context = <span class="literal">undefined</span>

    self =</code></pre>
</div>
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p><code>clear</code> clears the entire canvas (or a portion of it).</p>
<p>To clear the entire canvas use <code>canvas.clear()</code></p>
<blockquote>
<pre><code>#! paint
# Set up: Fill canvas with blue
canvas.fill(&quot;blue&quot;)

# Clear a portion of the canvas
canvas.clear
  x: 50
  y: 50
  width: 50
  height: 50</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      clear: ({x, y, width, height}={}) -&gt;
        x ?= <span class="number">0</span>
        y ?= <span class="number">0</span>
        width = canvas.width <span class="keyword">unless</span> width?
        height = canvas.height <span class="keyword">unless</span> height?

        context.clearRect(x, y, width, height)

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Fills the entire canvas (or a specified section of it) with
the given color.</p>
<blockquote>
<pre><code>#! paint
# Paint the town (entire canvas) red
canvas.fill &quot;red&quot;

# Fill a section of the canvas white (#FFF)
canvas.fill
  x: 50
  y: 50
  width: 50
  height: 50
  color: &quot;#FFF&quot;</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      fill: (color={}) -&gt;
        <span class="keyword">unless</span> (<span class="keyword">typeof</span> color <span class="keyword">is</span> <span class="string">"string"</span>) <span class="keyword">or</span> color.channels
          {x, y, width, height, bounds, color} = color

        {x, y, width, height} = bounds <span class="keyword">if</span> bounds

        x ||= <span class="number">0</span>
        y ||= <span class="number">0</span>
        width = canvas.width <span class="keyword">unless</span> width?
        height = canvas.height <span class="keyword">unless</span> height?

        <span class="property">@fillColor</span>(color)
        context.fillRect(x, y, width, height)

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>A direct map to the Context2d draw image. <code>GameObject</code>s
that implement drawable will have this wrapped up nicely,
so there is a good chance that you will not have to deal with
it directly.</p>
<blockquote>
<pre><code>#! paint
$ &quot;&lt;img&gt;&quot;,
  src: &quot;https://secure.gravatar.com/avatar/33117162fff8a9cf50544a604f60c045&quot;
  load: -&gt;
    canvas.drawImage(this, 25, 25)</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      drawImage: (args...) -&gt;
        context.drawImage(args...)

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Draws a circle at the specified position with the specified
radius and color.</p>
<blockquote>
<pre><code>#! paint
# Draw a large orange circle
canvas.drawCircle
  radius: 30
  position: Point(100, 75)
  color: &quot;orange&quot;

# You may also set a stroke
canvas.drawCircle
  x: 25
  y: 50
  radius: 10
  color: &quot;blue&quot;
  stroke:
    color: &quot;red&quot;
    width: 1</code></pre>
</blockquote>
<p>You can pass in circle objects as well.</p>
<blockquote>
<pre><code>#! paint
# Create a circle object to set up the next examples
circle =
  radius: 20
  x: 50
  y: 50

# Draw a given circle in yellow
canvas.drawCircle
  circle: circle
  color: &quot;yellow&quot;

# Draw the circle in green at a different position
canvas.drawCircle
  circle: circle
  position: Point(25, 75)
  color: &quot;green&quot;</code></pre>
</blockquote>
<p>You may set a stroke, or even pass in only a stroke to draw an unfilled circle.</p>
<blockquote>
<pre><code>#! paint
# Draw an outline circle in purple.
canvas.drawCircle
  x: 50
  y: 75
  radius: 10
  stroke:
    color: &quot;purple&quot;
    width: 2</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      drawCircle: ({x, y, radius, position, color, stroke, circle}) -&gt;
        {x, y, radius} = circle <span class="keyword">if</span> circle
        {x, y} = position <span class="keyword">if</span> position

        radius = <span class="number">0</span> <span class="keyword">if</span> radius &lt; <span class="number">0</span>

        context.beginPath()
        context.arc(x, y, radius, <span class="number">0</span>, TAU, <span class="literal">true</span>)
        context.closePath()

        <span class="keyword">if</span> color
          <span class="property">@fillColor</span>(color)
          context.fill()

        <span class="keyword">if</span> stroke
          <span class="property">@strokeColor</span>(stroke.color)
          <span class="property">@lineWidth</span>(stroke.width)
          context.stroke()

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Draws a rectangle at the specified position with given
width and height. Optionally takes a position, bounds
and color argument.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      drawRect: ({x, y, width, height, position, bounds, color, stroke}) -&gt;
        {x, y, width, height} = bounds <span class="keyword">if</span> bounds
        {x, y} = position <span class="keyword">if</span> position

        <span class="keyword">if</span> color
          <span class="property">@fillColor</span>(color)
          context.fillRect(x, y, width, height)

        <span class="keyword">if</span> stroke
          <span class="property">@strokeColor</span>(stroke.color)
          <span class="property">@lineWidth</span>(stroke.width)
          context.strokeRect(x, y, width, height)

        <span class="keyword">return</span> @</code></pre>
</div>
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! paint
# Draw a red rectangle using x, y, width and height
canvas.drawRect
  x: 50
  y: 50
  width: 50
  height: 50
  color: &quot;#F00&quot;</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>You can mix and match position, witdth and height.</p>
<blockquote>
<pre><code>#! paint
canvas.drawRect
  position: Point(0, 0)
  width: 50
  height: 50
  color: &quot;blue&quot;
  stroke:
    color: &quot;orange&quot;
    width: 3</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>A bounds can be reused to draw multiple rectangles.</p>
<blockquote>
<pre><code>#! paint
bounds =
  x: 100
  y: 0
  width: 100
  height: 100

# Draw a purple rectangle using bounds
canvas.drawRect
  bounds: bounds
  color: &quot;green&quot;

# Draw the outline of the same bounds, but at a different position
canvas.drawRect
  bounds: bounds
  position: Point(0, 50)
  stroke:
    color: &quot;purple&quot;
    width: 2</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Draw a line from <code>start</code> to <code>end</code>.</p>
<blockquote>
<pre><code>#! paint
# Draw a sweet diagonal
canvas.drawLine
  start: Point(0, 0)
  end: Point(200, 200)
  color: &quot;purple&quot;

# Draw another sweet diagonal
canvas.drawLine
  start: Point(200, 0)
  end: Point(0, 200)
  color: &quot;red&quot;
  width: 6

# Now draw a sweet horizontal with a direction and a length
canvas.drawLine
  start: Point(0, 100)
  length: 200
  direction: Point(1, 0)
  color: &quot;orange&quot;</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      drawLine: ({start, end, width, color, direction, length}) -&gt;
        width ||= <span class="number">3</span>

        <span class="keyword">if</span> direction
          end = direction.norm(length).add(start)

        <span class="property">@lineWidth</span>(width)
        <span class="property">@strokeColor</span>(color)

        context.beginPath()
        context.moveTo(start.x, start.y)
        context.lineTo(end.x, end.y)
        context.closePath()
        context.stroke()

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Draw a polygon.</p>
<blockquote>
<pre><code>#! paint
# Draw a sweet rhombus
canvas.drawPoly
  points: [
    Point(50, 25)
    Point(75, 50)
    Point(50, 75)
    Point(25, 50)
  ]
  color: &quot;purple&quot;
  stroke:
    color: &quot;red&quot;
    width: 2</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      drawPoly: ({points, color, stroke}) -&gt;
        context.beginPath()
        points.forEach (point, i) -&gt;
          <span class="keyword">if</span> i == <span class="number">0</span>
            context.moveTo(point.x, point.y)
          <span class="keyword">else</span>
            context.lineTo(point.x, point.y)
        context.lineTo points[<span class="number">0</span>].x, points[<span class="number">0</span>].y

        <span class="keyword">if</span> color
          <span class="property">@fillColor</span>(color)
          context.fill()

        <span class="keyword">if</span> stroke
          <span class="property">@strokeColor</span>(stroke.color)
          <span class="property">@lineWidth</span>(stroke.width)
          context.stroke()

        <span class="keyword">return</span> @</code></pre>
</div>
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Draw a rounded rectangle.</p>
<p>Adapted from <a href="http://js-bits.blogspot.com/2010/07/canvas-rounded-corner-rectangles.html">http://js-bits.blogspot.com/2010/07/canvas-rounded-corner-rectangles.html</a></p>
<blockquote>
<pre><code>#! paint
# Draw a purple rounded rectangle with a red outline
canvas.drawRoundRect
  position: Point(25, 25)
  radius: 10
  width: 150
  height: 100
  color: &quot;purple&quot;
  stroke:
    color: &quot;red&quot;
    width: 2</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      drawRoundRect: ({x, y, width, height, radius, position, bounds, color, stroke}) -&gt;
        radius = <span class="number">5</span> <span class="keyword">unless</span> radius?

        {x, y, width, height} = bounds <span class="keyword">if</span> bounds
        {x, y} = position <span class="keyword">if</span> position

        context.beginPath()
        context.moveTo(x + radius, y)
        context.lineTo(x + width - radius, y)
        context.quadraticCurveTo(x + width, y, x + width, y + radius)
        context.lineTo(x + width, y + height - radius)
        context.quadraticCurveTo(x + width, y + height, x + width - radius, y + height)
        context.lineTo(x + radius, y + height)
        context.quadraticCurveTo(x, y + height, x, y + height - radius)
        context.lineTo(x, y + radius)
        context.quadraticCurveTo(x, y, x + radius, y)
        context.closePath()

        <span class="keyword">if</span> color
          <span class="property">@fillColor</span>(color)
          context.fill()

        <span class="keyword">if</span> stroke
          <span class="property">@lineWidth</span>(stroke.width)
          <span class="property">@strokeColor</span>(stroke.color)
          context.stroke()

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Draws text on the canvas at the given position, in the given color.
If no color is given then the previous fill color is used.</p>
<blockquote>
<pre><code>#! paint
# Fill canvas to indicate bounds
canvas.fill
  color: &#39;#eee&#39;

# A line to indicate the baseline
canvas.drawLine
  start: Point(25, 50)
  end: Point(125, 50)
  color: &quot;#333&quot;
  width: 1

# Draw some text, note the position of the baseline
canvas.drawText
  position: Point(25, 50)
  color: &quot;red&quot;
  text: &quot;It&#39;s dangerous to go alone&quot;</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      drawText: ({x, y, text, position, color, font}) -&gt;
        {x, y} = position <span class="keyword">if</span> position

        <span class="property">@fillColor</span>(color)
        <span class="property">@font</span>(font) <span class="keyword">if</span> font
        context.fillText(text, x, y)

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Centers the given text on the canvas at the given y position. An x position
or point position can also be given in which case the text is centered at the
x, y or position value specified.</p>
<blockquote>
<pre><code>#! paint
# Fill canvas to indicate bounds
canvas.fill
  color: &quot;#eee&quot;

# Center text on the screen at y value 25
canvas.centerText
  y: 25
  color: &quot;red&quot;
  text: &quot;It&#39;s dangerous to go alone&quot;

# Center text at point (75, 75)
canvas.centerText
  position: Point(75, 75)
  color: &quot;green&quot;
  text: &quot;take this&quot;</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      centerText: ({text, x, y, position, color, font}) -&gt;
        {x, y} = position <span class="keyword">if</span> position

        x = canvas.width / <span class="number">2</span> <span class="keyword">unless</span> x?

        textWidth = <span class="property">@measureText</span>(text)

        <span class="property">@drawText</span> {
          text
          color
          font
          x: x - (textWidth) / <span class="number">2</span>
          y
        }</code></pre>
</div>
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Setting the fill color:</p>
<p><code>canvas.fillColor(&quot;#FF0000&quot;)</code></p>
<p>Passing no arguments returns the fillColor:</p>
<p><code>canvas.fillColor() # =&gt; &quot;#FF000000&quot;</code></p>
<p>You can also pass a Color object:</p>
<p><code>canvas.fillColor(Color(&#39;sky blue&#39;))</code></p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      fillColor: (color) -&gt;
        <span class="keyword">if</span> color
          <span class="keyword">if</span> color.channels
            context.fillStyle = color.toString()
          <span class="keyword">else</span>
            context.fillStyle = color

          <span class="keyword">return</span> @
        <span class="keyword">else</span>
          <span class="keyword">return</span> context.fillStyle</code></pre>
</div>
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Setting the stroke color:</p>
<p><code>canvas.strokeColor(&quot;#FF0000&quot;)</code></p>
<p>Passing no arguments returns the strokeColor:</p>
<p><code>canvas.strokeColor() # =&gt; &quot;#FF0000&quot;</code></p>
<p>You can also pass a Color object:</p>
<p><code>canvas.strokeColor(Color(&#39;sky blue&#39;))</code></p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      strokeColor: (color) -&gt;
        <span class="keyword">if</span> color
          <span class="keyword">if</span> color.channels
            context.strokeStyle = color.toString()
          <span class="keyword">else</span>
            context.strokeStyle = color

          <span class="keyword">return</span> <span class="keyword">this</span>
        <span class="keyword">else</span>
          <span class="keyword">return</span> context.strokeStyle</code></pre>
</div>
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Determine how wide some text is.</p>
<p><code>canvas.measureText(&#39;Hello World!&#39;) # =&gt; 55</code></p>
<p>It may have accuracy issues depending on the font used.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      measureText: (text) -&gt;
        context.measureText(text).width</code></pre>
</div>
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Passes this canvas to the block with the given matrix transformation
applied. All drawing methods called within the block will draw
into the canvas with the transformation applied. The transformation
is removed at the end of the block, even if the block throws an error.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      withTransform: (matrix, block) -&gt;
        context.save()

        context.transform(
          matrix.a,
          matrix.b,
          matrix.c,
          matrix.d,
          matrix.tx,
          matrix.ty
        )

        <span class="keyword">try</span>
          block(<span class="keyword">this</span>)
        <span class="keyword">finally</span>
          context.restore()

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Straight proxy to context <code>putImageData</code> method.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      putImageData: (args...) -&gt;
        context.putImageData(args...)

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Context getter.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      context: -&gt;
        context</code></pre>
</div>
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Getter for the actual html canvas element.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      element: -&gt;
        canvas</code></pre>
</div>
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Straight proxy to context pattern creation.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      createPattern: (image, repitition) -&gt;
        context.createPattern(image, repitition)</code></pre>
</div>
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Set a clip rectangle.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">      clip: (x, y, width, height) -&gt;
        context.beginPath()
        context.rect(x, y, width, height)
        context.clip()

        <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Generate accessors that get properties from the context object.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">    <span class="function"><span class="title">contextAttrAccessor</span></span> = (attrs...) -&gt;
      attrs.forEach (attr) -&gt;
        self[attr] = (newVal) -&gt;
          <span class="keyword">if</span> newVal?
            context[attr] = newVal
            <span class="keyword">return</span> @
          <span class="keyword">else</span>
            context[attr]

    contextAttrAccessor(
      <span class="string">"font"</span>,
      <span class="string">"globalAlpha"</span>,
      <span class="string">"globalCompositeOperation"</span>,
      <span class="string">"lineWidth"</span>,
      <span class="string">"textAlign"</span>,
    )</code></pre>
</div>
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Generate accessors that get properties from the canvas object.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">    <span class="function"><span class="title">canvasAttrAccessor</span></span> = (attrs...) -&gt;
      attrs.forEach (attr) -&gt;
        self[attr] = (newVal) -&gt;
          <span class="keyword">if</span> newVal?
            canvas[attr] = newVal
            <span class="keyword">return</span> @
          <span class="keyword">else</span>
            canvas[attr]

    canvasAttrAccessor(
      <span class="string">"height"</span>,
      <span class="string">"width"</span>,
    )

    context = canvas.getContext(<span class="string">'2d'</span>)

    options.init(self)

    <span class="keyword">return</span> self</code></pre>
</div>
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Depend on either jQuery or Zepto for now (TODO: Don&#39;t depend on either)</p>
<h2 id="helpers">Helpers</h2>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Fill in default properties for an object, setting them only if they are not
already present.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript"><span class="function"><span class="title">defaults</span></span> = (target, objects...) -&gt;
  <span class="keyword">for</span> object <span class="keyword">in</span> objects
    <span class="keyword">for</span> name <span class="keyword">of</span> object
      <span class="keyword">unless</span> target.hasOwnProperty(name)
        target[name] = object[name]

  <span class="keyword">return</span> target</code></pre>
</div>
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <h2 id="interactive-examples">Interactive Examples</h2>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! setup
Canvas = require &quot;/pixie_canvas&quot;

window.Point ?= (x, y) -&gt;
  x: x
  y: y

Interactive.register &quot;paint&quot;, ({source, runtimeElement}) -&gt;
  canvas = Canvas
    width: 400
    height: 200

  code = CoffeeScript.compile(source)

  runtimeElement.empty().append canvas.element()
  Function(&quot;canvas&quot;, code)(canvas)</code></pre>
</blockquote>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
    </ul>
  </div>
  <script src="//code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/coffee-script/1.6.3/coffee-script.min.js"></script>
<script src="http://strd6.github.io/require/v0.2.2.js"></script><script>
  $.ajax({
    url: "http://strd6.github.io/interactive/v0.8.1.jsonp",
    dataType: "jsonp",
    jsonpCallback: "STRd6/interactive:v0.8.1",
    cache: true
  }).then(function(PACKAGE) {
    Require.generateFor(PACKAGE)("./" + PACKAGE.entryPoint)
  })
</script><script src="package.js"></script>
</body>
</html>